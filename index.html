<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Justin Campbell</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/style.css">
    <script src="data.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>

      $(document).ready(function () {
        let intro = getIntro();
        let exp   = getExperience();
        let about = getAbout();
        render(intro);
        render(exp);
        render(about);
      });

      function render(data){
        for(var i=0; i<Object.keys(data).length; i++){
          if(data[i] !== undefined){
            switch(data[i].sectionId){
              case 1:
                console.log("Experience SectionName: " + data[i].sectionId); 
                console.log("Experience jobTitle: " + data[i].sectionId);
                renderExperience(data[i]);  
                break;     
              case 2: 
                console.log("Intro SectionName: " + data[i].sectionId); 
                renderIntro(data[i]);
                break;
              case 3: 
                renderAbout(data[i]);
                break;
              case 4: 
                renderProjects(data[i]);
                break;
              default:
                console.log("Unknown sectionId");
            }
          }
        }
          return true;
      }

      function renderExperience(obj){
        $("#expList").append(
          '<a href="#" class="list-group-item list-group-item-action flex-column align-items-start bg-content font-color-w">'+
            '<div class="d-flex w-60  justify-content-around p-5">'+
              '<div class="row"><div class="col-3 flex-column">' +
                '<h5 class="mb-1">'+ obj.jobTitle +'</h5>'+
                '<h6 class="mb-1 font-weight-light">'+ obj.company +'</h6>'+
                '<p class="mb-1">'+ obj.location +'</p>'+
                '<p class="mb-1 font-italic">'+ obj.startDate + " - " + obj.endDate +'</p></div>'+
                '<div class="col-9 d-flex text-wrap h-26" style="position:relative; overflow-x:scroll; overflow-y:scroll;">'+
                  '<ul>'+
                    '<li><p class="text-wrap">'+ obj.d1 +'</p></li>' +
                    '<li><p class="text-wrap">'+ obj.d2 +'</p></li>' +
                    '<li><p class="text-wrap">'+ obj.d3 +'</p></li>' +
                    '<li><p class="text-wrap">'+ obj.d4 +'</p></li>' +
                '<ul></div></div></div></a>'
        );
      }

      function renderIntro(obj){
        console.log("intro" + obj.name)
        $("#name").append('<h2>'+ obj.name +'</h2>');
        $("#title").append('<h5>'+ obj.title +'</h5>');
        $("#snapShot").append('<p class="text-wrap">'+ obj.snapShot +'</p>');
        
      }

      function renderAbout(obj){
        $("#about").append('<span><a id=jump_to_about/><p>'+ obj.aboutMe +'</p</span>');
      }

  </script>
  </head>
  <body>
      <div class="container-fluid p-5 bg font-color-w">
        <div class="row pt-5">
          <div class="col-5">
            <div class="row">
            <ul class="nav flex-column" >
              <li class="nav-item">
                <a class=""  id="name"></a>
              </li>
              <li class="nav-item font-weight-light">
                <a  id="title"></a>
              </li>
              <li class="nav-item font-italic font-weight-light">
                <a id="snapShot"></a>
              </li>
            </ul>
          </div>
          <div class="row pt-3">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link active" href="#">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Experience</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Projects</a>
              </li>
            </ul>
          </div>
        </div>
              <div class="col-7" >
                <div class="contentBox">
                  <div class="flex-column" id="about">
                    
                  </div>
                  <h5 class="mb-5">experience</h5>
                  <div class="list-group" id="expList"></div>
                </div>
              </div>
        </div>
      </div>
    </body>
</html>