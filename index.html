<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Justin Campbell</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/style.css">
    <script src="data.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>

      $(document).ready(function () {
        let intro     = getIntro();
        let stmtArr   = getStrStmt().split(" ");
        let about     = getAbout();
        let exp       = getExperience();
        let projects  = getProjects();
        render(intro);
        printText(stmtArr);
        render(exp);
        render(about);
        render(projects);


      });

      function sleep(milliseconds) {  
          return new Promise(resolve => setTimeout(resolve, milliseconds));  
      }  

      async function printText(arrOne){
        let timeout = 0;
        console.log(arrOne);
        for(var i=0; i<arrOne.length; i++){
          let arrTwo = arrOne[i].split(); 
          for(var j=0; j<arrTwo.length; j++ ){
            $("#openStmnt").append(arrTwo[j] + " ")
            await sleep(170);
            if(i==2 && j==arrTwo.length-1){
              await sleep(700);
              $("#openStmnt").append("</br>")
            }
          }
        }
      }

      function render(data){
        for(var i=0; i<Object.keys(data).length; i++){
          if(data[i] !== undefined){
            switch(data[i].sectionId){
              case 1:
                console.log("Experience SectionName: " + data[i].sectionId); 
                console.log("Experience jobTitle: " + data[i].sectionId);
                renderExperience(data[i]);  
                break;     
              case 2: 
                console.log("Intro SectionName: " + data[i].sectionId); 
                renderIntro(data[i]);
                break;
              case 3: 
                renderAbout(data[i]);
                break;
              case 5: 
                renderProjects(data[i]);
                break;
              default:
                console.log("Unknown sectionId");
            }
          }
        }
          return true;
      }

      function renderExperience(obj){
        $("#expList").append(
          '<div class="flex-column align-items-start bg font-color-w mb-3">'+
            '<div class="d-flex w-60 justify-content-around p-2" style="font-size:x-small;">'+
              '<div class="row">'+
                '<div class="col-lg-3 flex-column">' +
                '<h5 class="mb-1">'+ obj.jobTitle +'</h5>'+
                '<h6 class="mb-1 font-weight-light">'+ obj.company +'</h6>'+
                '<p class="mb-1">'+ obj.location +'</p>'+
                '<p class="mb-3 font-italic">'+ obj.startDate + " - " + obj.endDate +'</p>'+
                '</div>'+
                '<div class="col-lg-9 pr-5 d-flex text-wrap h-26" style="position:relative; overflow-x:scroll; overflow-y:scroll;">'+
                  '<ul>'+
                    '<li><p class="text-wrap">'+ obj.d1 +'</p></li>' +
                    '<li><p class="text-wrap">'+ obj.d2 +'</p></li>' +
                    '<li><p class="text-wrap">'+ obj.d3 +'</p></li>' +
                    '<li><p class="text-wrap">'+ obj.d4 +'</p></li> ' +
                '<ul></div></div></div></div>'
        );
      }

      function renderProjects(obj){
          $("#projList").append(
            '<div class="row mb-5"><div class="col-md-3"><div class="row justify-content-center mb-2"><img class="mt-3"src="images/'+ obj.img + '" alt="edi image" height="150px" width="150px"/></div>'+
             '</div>'+
              '<div class="col-md-9"><div class="card border-0 w-100 bg">'+
                '<div class="card-body">'+
                  '<div class="row"><div class="col-md"><h5 class="card-title" id="projTitle">'+  obj.title +'</h5></div>'+
                  '<div class="col-md justify-content-start float-left">' +
                    '<a href="https://www.github.com/justincamp1776/'+ obj.repository +'" target="_blank">'+
                      '<img src="images/github-mark-white.png" alt="github-logo" style="max-width:25px; max-height:25px;"/></a></div></div>'+
                  '<div class="row"><div class="flex-column">' +
                  '<p class="" style="font-size:small" id="projDescr">'+ obj.description +'</p>'+
                  '<p class="card-text font-italic" style="font-size:small;" id="techStack">'+ obj.techStack +'</p>'+
                  '</div></div>'+
                '</div> </div></div>'
          )
      }

      function renderIntro(obj){
        console.log("intro" + obj.name)
        $("#name").append('<h2>'+ obj.name +'</h2>');
        $("#title").append('<h5>'+ obj.title +'</h5>');
        $("#description").append('<p class="text-wrap font-italic font-weight-light">'+ obj.description +'</p>');
      }

      function renderAbout(obj){
        $("#about").append('<p>'+ obj.aboutMe +'</p>');
      }

  </script>
  </head>
  <body>
      <div class="container-fluid bg font-color-w">
        <div class="row">
            <div class="col-md pt-5 d-flex justify-content-center">
                <div class="row">
                  <!-- Left Side of Intro-->
                  <div class="col">
                      <div class="row">
                        <div class="card border-0" style="width: 18rem; background-color:rgb(18, 18, 46);">
                          <img class="card-img-top ml-4" src="images/headShot.png" style="height:180px; width:200px;"alt="Card image cap">
                          <div class="card-body">
                            <h5 class="card-title" id="name"></h5>
                            <p class="font-weight-light" id="title"></p>
                            <p class="card-text font-italic" id="description"></p>
                          </div>
                          <ul class="list-group list-group-flush">
                            <li class="list-group-item list-unstyled border-0" style="background-color:rgb(18, 18, 46);"> <a href="#aboutJumpTo" style="font-size:small;" class="p-2">__about me</a></li>
                            <li class="list-group-item list-unstyled border-0" style="background-color:rgb(18, 18, 46);"><a href="#experienceJumpTo" style="font-size:small;" class="p-2">__experience</a></li>
                            <li class="list-group-item list-unstyled border-0" style="background-color:rgb(18, 18, 46);"><a href="#projectsJumpTo" style="font-size:small;" class="p-2">__projects</a></li>
                          </ul>
                          <div class="card-body">
                            <div class="row d-inline-flex">
                              <div class="col">
                                <a href="https://www.github.com/justincamp1776/" target="_blank"><i class="fab fa-git-hub">
                                  <img src="images/github-mark-white.png" alt="github-logo" style="max-width:25px; max-height:25px;"/>
                                </i></a>
                              </div>
                              <div class="col">
                                <a href="https://www.linkedin.com/in/justcamp1776/" target="_blank"><i class="fab fa-git-hub">
                                  <img src="images/LinkedIn-Blue-14@2x.png" alt="linkedin-logo" style="max-width:60px; max-height:60px;"/>
                                </i></a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                   </div>
              <div class="col">
                <div class="row">
                    <p class="textBox" id="openStmnt"></p>
                </div>
            </div>
          </div>
        </div>
            <div class="col-md pt-5" >
              <div class="contentBox">
                <div class="justify-content-around font-weight-light mb-3"id="about">
                  <a id="aboutJumpTo"><h5 class="mb-5 font-italic font-weight-light">About Me</h5></a>
                </div>
                <a id="experienceJumpTo"><h5 class="mb-5 font-italic font-weight-light">Experience</h5></a>
                  <div class="list-group" id="expList"></div>
                <a id="projectsJumpTo"><h5 class="mb-5 mt-4 font-italic font-weight-light">Projects</h5></a>
                <div class="list-group" id="projList"></div>
              </div>
            </div>
        </div>
    </div>
    </body>
</html>